<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Anton&family=Edu+VIC+WA+NT+Beginner:wght@600&family=Gamja+Flower&family=Jua&family=Nanum+Pen+Script&display=swap=Single+Day&display=swap"
        rel="stylesheet">
    <style>
        div.login {
            margin: 100px 300px;
            border: 5px solid gray;
            width: 320px;
            border-radius: 10px;
        }
    </style>
    <script>
        window.onload = function () {
            init_check();

            //로그인 버튼 이벤트 
            document.getElementById("btnlogin").onclick = function () {
                //아이디 저자으이 체크값 알아내기(true/false)
                var chksave = document.getElementById("chksave").checked;
                console.log(chksave);
                var myid = document.getElementById("myid").value;
                var mypass = document.getElementById("mypass").value;

                if (mypass == '1234') {
                    //로칼 스토리지에 체크값과 아이디를 저장해둔다
                    localStorage.chksave = chksave;
                    localStorage.myid = myid;
                    //메인페이지로 이동한다
                    location.href = "ex3_storage.html"
                } else {
                    alert("비번이 맞지 않습니다")
                }
            }
        } // onload
        function init_check() {
            //로칼 스토리지로부터 체크값과 아이디를 얻는다
            var chksave = localStorage.chksave;
            var myid = localStorage.myid;
            if (chksave == 'true') {
                document.getElementById("myid").value = myid;
                document.getElementById("chksave").setAttribute("checked", true)
            } else {
                document.getElementById("myid").value = "";
                document.getElementById("chksave").removeAttribute("checked")
            }
        }
    </script>
</head>

<body>
    <div class="login">
        <table class="table table-bordered" style="width:300px">
            <tr>
                <td colspan="2" align="center">
                    <label><input type="checkbox" id="chksave">아이디저장</label>
                </td>
            </tr>
            <tr>
                <th style="width: 100px;" class="table-info">아이디</th>
                <td>
                    <input type="text" id="myid" class="form-control" placeholder="아이디" autofocus>
                </td>
            </tr>
            <tr>
                <th style="width: 100px;" class="table-info">비밀번호</th>
                <td>
                    <input type="password" id="mypass" class="form-control" placeholder="비밀번호">
                </td>
            </tr>
            <tr>
                <td colspan="2" class="table-danger" align="center">
                    <button type="button" id="btnlogin" class="btn btn-default" style="width:100px">회원로그인</button>
                </td>
            </tr>
        </table>
    </div>
</body>

</html>